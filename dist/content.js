(()=>{function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function t(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=document.createElement(t);return Object.assign(i.style,n),Object.entries(o).forEach((function(t){var n,o,r=(o=2,function(e){if(Array.isArray(e))return e}(n=t)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,i,r,a,l=[],s=!0,d=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(o=r.call(n)).done)&&(l.push(o.value),l.length!==t);s=!0);}catch(e){d=!0,i=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return l}}(n,o)||function(t,n){if(t){if("string"==typeof t)return e(t,n);var o={}.toString.call(t).slice(8,-1);return"Object"===o&&t.constructor&&(o=t.constructor.name),"Map"===o||"Set"===o?Array.from(t):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?e(t,n):void 0}}(n,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=r[0],l=r[1];a in i?i[a]=l:i.setAttribute(a,l)})),i}chrome.storage.local.get(["settings"],(function(e){var n=e.settings||{};if(n.hideSortNotes,!n.hideSortNotes){var o=t("button",{position:"fixed",top:"20px",right:"0px",zIndex:"9998",padding:"10px",borderRadius:"5px",border:"none",color:"white",backgroundColor:"#684993",cursor:"pointer"},{innerHTML:'<span style="margin-right: 10px;">☰</span>'});document.body.appendChild(o),o.addEventListener("mouseenter",(function(){i.style.display="block"})),o.addEventListener("mouseleave",(function(){i.style.display="none"})),chrome.storage.local.get(["settings"],(function(e){(e.settings||{}).hide_side_notes||console.log("Side Notes are enabled")}));var i=t("span",{position:"absolute",top:"-5px",width:"18px",height:"18px",backgroundColor:"white",color:"black",borderRadius:"50%",fontSize:"12px",textAlign:"center",cursor:"pointer",boxShadow:"0 0 2px rgba(0,0,0,0.3)",fontWeight:"bold",display:"none"},{innerText:"×",title:"Hide"});o.appendChild(i),i.addEventListener("click",(function(e){e.stopPropagation(),o.style.display="none",chrome.storage.local.get(["settings"],(function(e){var t=e.settings||{};t.hideSortNotes=!0,chrome.storage.local.set({settings:t})}))}));var r=t("div",{position:"fixed",top:"0",right:"-400px",width:"300px",height:"100vh",display:"none",backgroundColor:"#fff",boxShadow:"-2px 0 8px rgba(0,0,0,0.2)",transition:"right 0.3s ease",zIndex:"9999",color:"black",padding:"20px"});document.body.appendChild(r);var a=t("button",{position:"absolute",top:"0px",right:"5px",fontSize:"20px",background:"none",border:"none",cursor:"pointer",color:"black"},{innerText:"×"});r.appendChild(a);var l=chrome.runtime.getURL("assets/note.png"),s=document.createElement("h3");s.style.marginBottom="10px",s.innerHTML='\n      <img style="height: 25px; display: inline; margin-right: 5px;" src="'.concat(l,'" />\n      <i class="mr-1" style="color: #684993;">i</i>\n      <span>Notes</span>\n    '),r.appendChild(s);var d=t("ul",{listStyle:"none",padding:"0",margin:"0"},{id:"notes-list"});r.appendChild(d),o.addEventListener("click",(function(){r.style.display="block",r.style.right="0","undefined"!=typeof chrome&&chrome.storage&&chrome.storage.local.get(["notes"],(function(e){e.notes&&function(e){if(d.innerHTML="",0!==e.length)e.forEach((function(e){if(e.deleted)return!1;var t='\n          <div class="note-item" style="padding: 10px 0px;     border-bottom: 1px solid #6c757d;">\n            <div>\n              <div class="note-text">'.concat(e.text,'</div>\n              <span class="options" style="display: flex; justify-content: space-between; align-items: center;" data-id="').concat(e.id,'">\n                <small class="date" style="font-size: 0.5rem; color: #6c757d; border: 1px solid #6c757d; border-radius: 12px; padding: 1px 8px; display: inline-block;">').concat(e.date,'</small>\n                <div class="icons">\n                  <span data-id="').concat(e.id,'" style=" border: 1px solid blue; color: blue; font-size: 0.6rem; padding: 0.3rem; margin-right: 0.3rem; cursor: pointer;"> Copy </span>\n                </div>\n              </span>\n            </div>\n          </div>\n        '),n=document.createElement("li");n.style.fontSize="14px",n.style.lineHeight="1.4",n.style.marginBottom="5px",n.style.wordWrap="break-word",n.innerHTML=t,d.appendChild(n)}));else{var n=t("li",{padding:"10px",textAlign:"center",color:"#666",fontStyle:"italic"},{innerText:"No notes yet"});d.appendChild(n)}}(e.notes)}))})),a.addEventListener("click",(function(){r.style.right="-50rem",setTimeout((function(){r.style.display="none"}),300)}))}}))})();