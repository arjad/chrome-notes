(()=>{function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e(t)}function t(t,n,o){return(n=function(t){var n=function(t){if("object"!=e(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,"string");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==e(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[n]=o,t}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=Array(t);n<t;n++)o[n]=e[n];return o}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=document.createElement(e);return Object.assign(r.style,t),Object.entries(o).forEach((function(e){var t,o,i=(o=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var o,r,i,a,l=[],s=!0,c=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(o=i.call(n)).done)&&(l.push(o.value),l.length!==t);s=!0);}catch(e){c=!0,r=e}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw r}}return l}}(t,o)||function(e,t){if(e){if("string"==typeof e)return n(e,t);var o={}.toString.call(e).slice(8,-1);return"Object"===o&&e.constructor&&(o=e.constructor.name),"Map"===o||"Set"===o?Array.from(e):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?n(e,t):void 0}}(t,o)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],l=i[1];a in r?r[a]=l:r.setAttribute(a,l)})),r}chrome.storage.local.get(["settings"],(function(e){var n=e.settings||{};if(n.hideSortNotes,!n.hideSortNotes){var r=function(e){if(u.innerHTML="",0!==e.length)e.forEach((function(e){if(!e.deleted){var t,n,o='\n          <div class="note-item" style="padding: 10px 0px; border-bottom: 1px solid #6c757d;">\n            <div>\n              <div class="note-text">'.concat(e.text.replace(/`([^`]+)`/g,"<code style=\"background-color:#c2c2c2;color:black;font-family:'Courier New',Courier,monospace;padding:3px;margin:8px 0;white-space:pre-wrap;border-radius:3px;\">$1</code>"),'</div>\n              <span class="options" style="display: flex; justify-content: space-between; align-items: center;" data-id="').concat(e.id,'">\n                <small class="date" style="font-size: 0.5rem; color: #6c757d; border: 1px solid #6c757d; border-radius: 12px; padding: 1px 8px;">').concat((t=e.date,n=new Date(t),n.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})),'</small>\n                <div class="icons">\n                  <span class="copy-btn" data-id="').concat(e.id,'" data-text="').concat(e.text,'" style="border: 1px solid blue; color: blue; font-size: 0.6rem; padding: 0.3rem; margin-right: 0.3rem; cursor: pointer;"> Copy </span>\n                </div>\n              </span>\n            </div>\n          </div>\n        '),r=document.createElement("li");r.style.fontSize="14px",r.style.lineHeight="1.4",r.style.marginBottom="5px",r.style.wordWrap="break-word",r.innerHTML=o;var i=r.querySelector(".copy-btn");i&&i.addEventListener("click",(function(){var e=i.getAttribute("data-text");navigator.clipboard.writeText(e).then((function(){i.innerText="Copied!",setTimeout((function(){i.innerText="Copy"}),1e3)})).catch((function(e){console.error("Failed to copy:",e)}))})),u.appendChild(r)}}));else{var t=o("li",{padding:"10px",textAlign:"center",color:"#666",fontStyle:"italic"},{innerText:"No notes yet"});u.appendChild(t)}},i=[],a=o("button",{position:"fixed",top:"20px",right:"0px",zIndex:"9998",padding:"10px",borderRadius:"5px",border:"none",color:"white",backgroundColor:"#684993",cursor:"pointer"},{innerHTML:'<span style="margin-right: 10px;">☰</span>'});document.body.appendChild(a),a.addEventListener("mouseenter",(function(){l.style.display="block"})),a.addEventListener("mouseleave",(function(){l.style.display="none"})),chrome.storage.local.get(["settings"],(function(e){(e.settings||{}).hide_side_notes||console.log("Side Notes are enabled")}));var l=o("span",{position:"absolute",top:"-5px",width:"18px",height:"18px",backgroundColor:"white",color:"black",borderRadius:"50%",fontSize:"12px",textAlign:"center",cursor:"pointer",boxShadow:"0 0 2px rgba(0,0,0,0.3)",fontWeight:"bold",display:"none"},{innerText:"×",title:"Hide"});a.appendChild(l),l.addEventListener("click",(function(e){e.stopPropagation(),a.style.display="none",chrome.storage.local.get(["settings"],(function(e){var t=e.settings||{};t.hideSortNotes=!0,chrome.storage.local.set({settings:t})}))}));var s=o("div",{position:"fixed",top:"0",right:"-400px",width:"300px",height:"100vh",display:"none",backgroundColor:"#fff",boxShadow:"-2px 0 8px rgba(0,0,0,0.2)",transition:"right 0.3s ease",zIndex:"9999",color:"black",padding:"20px"});document.body.appendChild(s);var c=o("button",{position:"absolute",top:"0px",right:"5px",fontSize:"20px",background:"none",border:"none",cursor:"pointer",color:"black"},{innerText:"×"});s.appendChild(c);var d=chrome.runtime.getURL("assets/note.png"),p=document.createElement("div");p.style.marginBottom="10px",p.style.display="flex",p.style.alignItems="center",p.style.justifyContent="space-between",p.innerHTML='\n      <div class="inline">\n        <img style="height: 20px; display: inline; margin-right: 2px;" src="'.concat(d,'" />\n        <b><i style="color: #684993;">i</i>\n        <span>Notes</span></b>\n      </div>\n      <input type="text" id="notes-search" placeholder="Search notes..." \n        style=" display: inline%; padding: 6px 8px; border-radius: 4px; font-size: 12px;" />\n    '),s.appendChild(p);var u=o("ul",t(t({listStyle:"none",padding:"0",margin:"0",height:"90vh"},"margin","0px"),"overflowY","auto"),{id:"notes-list"});s.appendChild(u);var y=p.querySelector("#notes-search");y.addEventListener("input",(function(){var e=y.value.toLowerCase(),t=i.filter((function(t){return!t.deleted&&t.text.toLowerCase().includes(e)}));r(t)})),a.addEventListener("click",(function(){s.style.display="block",s.style.right="0","undefined"!=typeof chrome&&chrome.storage&&chrome.storage.local.get(["notes"],(function(e){e.notes&&(i=e.notes||[],r(e.notes))}))})),c.addEventListener("click",(function(){s.style.right="-50rem",setTimeout((function(){s.style.display="none"}),300)}));var f=document.createElement("div");f.innerHTML='\n    <hr style="margin: 10px 0;"/>\n    <div style="text-align: center; background-color: white; padding-top: 5px; height:3rem; center; font-size: 12px;">\n      <a href="https://github.com/arjad/chrome-notes" target="_blank" style="color: #684993; text-decoration: none;">View Source on GitHub</a>\n      <br />\n      <a href="https://github.com/arjad" target="_blank" style="color: #999; font-size: 11px;">@arjad</a>\n    </div>\n    ',f.style.position="absolute",f.style.bottom="10px",f.style.left="0",f.style.width="100%",s.appendChild(f)}}))})();